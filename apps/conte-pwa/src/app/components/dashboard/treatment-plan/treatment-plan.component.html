<div class="container-fluid treatment-plan-screen">
  <div class="d-flex treatment-plan-container">
    <div class="title-tab">
      <i class="bi bi-arrow-left mt-1" (click)="navBack()"></i>
      <span class="title display-4">Conte Sports Performance</span>
    </div>
    <hr />

    <div class="d-flex justify-content-center display-5 mb-2">{{ date }}</div>

    <div class="d-flex info-tab mb-2">
      <div class="speed-info me-2">
        Today's<br />Max Speed<br />
        <p class="display-5">45 MPH</p>
      </div>

      <div class="progress-info">
        Overall<br />Progress<br />
        <p class="display-5">19%</p>
      </div>
    </div>

    <div class="treatment-plan">
      <span *ngIf="!noTasks">Today's Treatment Plan</span>
      <div *ngFor="let task of dailyTasks; index as i" class="daily-tasks mt-2">
        <div class="daily-task">
          <input
            type="checkbox"
            [name]="task.title"
            [value]="task.id"
            [checked]="task.is_completed"
            [disabled]="task.is_completed === 'loading'"
            (change)="updateTask(i)"
          />
          <label [for]="task.title" (click)="taskDetails(task)" class="ms-3 display-6">{{ task.title }}</label>
          <span
            *ngIf="task.is_completed === 'loading'"
            class="spinner-border spinner-border-sm ms-2"
            role="status"
            aria-hidden="true"
          ></span>
        </div>
      </div>

      <div class="empty-tasks mt-5 mb-5" *ngIf="noTasks">
        <img src="../../../../assets/images/noTasksFound.png" height="150" width="150" />
        <p class="display-6">No Tasks Assigned for today</p>
      </div>
    </div>

    <div class="d-flex button-container mt-4 mb-2" *ngIf="!noTasks">
      <button class="btn btn-primary btn-confirm" type="button" [disabled]="buttonState === 'loading'">
        <span *ngIf="buttonState === 'static'" class="display-6"
          >Daily Therapy Completed <i class="bi bi-check2-all"></i
        ></span>
        <span *ngIf="buttonState === 'none'" class="display-6">No Daily Tasks found</span>
        <div *ngIf="buttonState === 'loading'">
          <span class="spinner-border spinner-border-sm me-2" role="status" aria-hidden="true"></span>
          <span class="display-6">Daily Tasks are in progress...</span>
        </div>
      </button>
    </div>
  </div>
</div>
